load("//packages/typescript:index.bzl", "ts_library")

ts_library(
    name = "es_interop_missing",
    srcs = [
        "data.json",
        "import_json.ts",
    ],
    allow_json_srcs = True,
    devmode_module = "commonjs",
    expected_diagnostics = [
        "TS1259: Module '\".*packages/typescript/test/ts_library_json/no_interop/data\"' can only be default-imported using the 'esModuleInterop' flag",
    ],
    prodmode_module = "commonjs",
    tsconfig = ":tsconfig.json",
)
