

<!--
Documentation generated by Skydoc
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>TypeScript compilation</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,600,700" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.1/material.green-light_blue.min.css">
    <script defer src="https://code.getmdl.io/1.1.1/material.min.js"></script>
    <link rel="stylesheet" href="/api/main.css">
  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer
      mdl-layout--fixed-header">
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <span class="mdl-layout-title">TypeScript compilation</span>
        </div>
      </header>
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">Bazel</span>
        <nav class="drawer-nav">
          <ul class="drawer-nav">
            
<li><a href="/api/index.html">Overview</a></li>
<li>
  <a href="/api/build_defs.html">TypeScript compilation</a>
  <ul>
    <li>
      <a href="/api/build_defs.html#ts_library">
        ts_library
      </a>
    </li>
  </ul>
</li>
<li>
  <a href="/api/ts_config.html">tsconfig.json files using extends</a>
  <ul>
    <li>
      <a href="/api/ts_config.html#ts_config">
        ts_config
      </a>
    </li>
  </ul>
</li>
<li>
  <a href="/api/ts_repositories.html">Install toolchain dependencies</a>
  <ul>
  </ul>
</li>
<li>
  <a href="/api/devserver/ts_devserver.html">Simple development server</a>
  <ul>
    <li>
      <a href="/api/devserver/ts_devserver.html#ts_devserver">
        ts_devserver
      </a>
    </li>
  </ul>
</li>
<li>
  <a href="/api/karma/ts_web_test.html">Unit testing with Karma</a>
  <ul>
    <li>
      <a href="/api/karma/ts_web_test.html#ts_web_test">
        ts_web_test
      </a>
    </li>
  </ul>
</li>
<li>
  <a href="/api/protobufjs/ts_proto_library.html">Protocol Buffers</a>
  <ul>
    <li>
      <a href="/api/protobufjs/ts_proto_library.html#ts_proto_library">
        ts_proto_library
      </a>
    </li>
  </ul>
</li>

          </ul>
        </nav>
      </div>

      <main class="mdl-layout__content">
        <div class="page-content">
          <h1>TypeScript compilation</h1>

<nav class="toc">
  <h2>Rules</h2>
  <ul>
    <li><a href="#ts_library">ts_library</a></li>
  </ul>
  <h2>Macros</h2>
  <ul>
    <li><a href="#tsc_wrapped_tsconfig">tsc_wrapped_tsconfig</a></li>
    <li><a href="#ts_library_macro">ts_library_macro</a></li>
  </ul>
</nav>
          <hr>

          <h2 id="tsc_wrapped_tsconfig">tsc_wrapped_tsconfig</h2>

          <pre>tsc_wrapped_tsconfig(<a href="#tsc_wrapped_tsconfig.ctx">ctx</a>, <a href="#tsc_wrapped_tsconfig.files">files</a>, <a href="#tsc_wrapped_tsconfig.srcs">srcs</a>, <a href="#tsc_wrapped_tsconfig.devmode_manifest">devmode_manifest</a>, <a href="#tsc_wrapped_tsconfig.jsx_factory">jsx_factory</a>)</pre>

          <p>Produce a tsconfig.json that sets options required under Bazel.</p>


          <h3 id="tsc_wrapped_tsconfig_args">Attributes</h3>

<table class="params-table">
  <colgroup>
    <col class="col-param" />
    <col class="col-description" />
  </colgroup>
  <tbody>
    <tr id="tsc_wrapped_tsconfig.ctx">
      <td><code>ctx</code></td>
      <td>
        <p><code>Unknown; Required</code></p>
        
      </td>
    </tr>
    <tr id="tsc_wrapped_tsconfig.files">
      <td><code>files</code></td>
      <td>
        <p><code>Unknown; Required</code></p>
        
      </td>
    </tr>
    <tr id="tsc_wrapped_tsconfig.srcs">
      <td><code>srcs</code></td>
      <td>
        <p><code>Unknown; Required</code></p>
        
      </td>
    </tr>
    <tr id="tsc_wrapped_tsconfig.devmode_manifest">
      <td><code>devmode_manifest</code></td>
      <td>
        <p><code>Unknown; Optional</code></p>
        
      </td>
    </tr>
    <tr id="tsc_wrapped_tsconfig.jsx_factory">
      <td><code>jsx_factory</code></td>
      <td>
        <p><code>Unknown; Optional</code></p>
        
      </td>
    </tr>
  </tbody>
</table>
          <hr>

          <h2 id="ts_library_macro">ts_library_macro</h2>

          <pre>ts_library_macro(<a href="#ts_library_macro.tsconfig">tsconfig</a>)</pre>

          <p>Wraps <code>ts_library</code> to set the default for the <code>tsconfig</code> attribute.</p>
<p>This must be a macro so that the string is converted to a label in the context of the
workspace that declares the <code>ts_library</code> target, rather than the workspace that defines
<code>ts_library</code>, or the workspace where the build is taking place.</p>
<p>This macro is re-exported as <code>ts_library</code> in the public API.</p>


          <h3 id="ts_library_macro_args">Attributes</h3>

<table class="params-table">
  <colgroup>
    <col class="col-param" />
    <col class="col-description" />
  </colgroup>
  <tbody>
    <tr id="ts_library_macro.tsconfig">
      <td><code>tsconfig</code></td>
      <td>
        <p><code>Unknown; Optional</code></p>
        <p>the label pointing to a tsconfig.json file
**kwargs: remaining args to pass to the ts_library rule</p>
      </td>
    </tr>
  </tbody>
</table>
          <hr>

          <h2 id="ts_library">ts_library</h2>

          <pre>ts_library(<a href="#ts_library.name">name</a>, <a href="#ts_library.deps">deps</a>, <a href="#ts_library.srcs">srcs</a>, <a href="#ts_library.compiler">compiler</a>, <a href="#ts_library.internal_testing_type_check_dependencies">internal_testing_type_check_dependencies</a>, <a href="#ts_library.node_modules">node_modules</a>, <a href="#ts_library.supports_workers">supports_workers</a>, <a href="#ts_library.tsconfig">tsconfig</a>, <a href="#ts_library.tsickle_typed">tsickle_typed</a>)</pre>

          <p><code>ts_library</code> type-checks and compiles a set of TypeScript sources to JavaScript.</p>
<p>It produces declarations files (<code>.d.ts</code>) which are used for compiling downstream
TypeScript targets and JavaScript for the browser and Closure compiler.</p>


          <h3 id="ts_library_args">Attributes</h3>

<table class="params-table">
  <colgroup>
    <col class="col-param" />
    <col class="col-description" />
  </colgroup>
  <tbody>
    <tr id="ts_library.name">
      <td><code>name</code></td>
      <td>
        <p><code><a href="https://bazel.build/docs/build-ref.html#name">Name</a>; Required</code></p>
        <p>A unique name for this rule.</p>
      </td>
    </tr>
    <tr id="ts_library.deps">
      <td><code>deps</code></td>
      <td>
        <p><code>List of <a href="https://bazel.build/docs/build-ref.html#labels">labels</a>; Optional; Default is []</code></p>
        
      </td>
    </tr>
    <tr id="ts_library.srcs">
      <td><code>srcs</code></td>
      <td>
        <p><code>List of <a href="https://bazel.build/docs/build-ref.html#labels">labels</a>; Required</code></p>
        <p>The TypeScript source files to compile.</p>
      </td>
    </tr>
    <tr id="ts_library.compiler">
      <td><code>compiler</code></td>
      <td>
        <p><code><a href="https://bazel.build/docs/build-ref.html#labels">Label</a>; Optional; Default is @build_bazel_rules_typescript//:@bazel/typescript/tsc_wrapped</code></p>
        <p>Sets a different TypeScript compiler binary to use for this library.
            For example, we use the vanilla TypeScript tsc.js for bootstrapping,
            and Angular compilations can replace this with <code>ngc</code>.</p>
<pre><code>        The default ts_library compiler depends on the `@npm//:@bazel/typescript`
        target which is setup for projects that use bazel managed npm deps that
        fetch the @bazel/typescript npm package. It is recommended that you use
        the workspace name `@npm` for bazel managed deps so the default
        compiler works out of the box. Otherwise, you'll have to override
        the compiler attribute manually.
</code></pre>
      </td>
    </tr>
    <tr id="ts_library.internal_testing_type_check_dependencies">
      <td><code>internal_testing_type_check_dependencies</code></td>
      <td>
        <p><code>Boolean; Optional; Default is False</code></p>
        <p>Testing only, whether to type check inputs that aren't srcs.</p>
      </td>
    </tr>
    <tr id="ts_library.node_modules">
      <td><code>node_modules</code></td>
      <td>
        <p><code><a href="https://bazel.build/docs/build-ref.html#labels">Label</a>; Optional; Default is @npm//:typescript__typings</code></p>
        <p>The npm packages which should be available during the compile.</p>
<pre><code>        The default value is `@npm//:typescript__typings` is setup
        for projects that use bazel managed npm deps that. It is recommended
        that you use the workspace name `@npm` for bazel managed deps so the
        default node_modules works out of the box. Otherwise, you'll have to
        override the node_modules attribute manually. This default is in place
        since ts_library will always depend on at least the typescript
        default libs which are provided by `@npm//:typescript__typings`.

        This attribute is DEPRECATED. As of version 0.18.0 the recommended
        approach to npm dependencies is to use fine grained npm dependencies
        which are setup with the `yarn_install` or `npm_install` rules.

        For example, in targets that used a `//:node_modules` filegroup,

        ```
        ts_library(
          name = "my_lib",
          ...
          node_modules = "//:node_modules",
        )
        ```

        which specifies all files within the `//:node_modules` filegroup
        to be inputs to the `my_lib`. Using fine grained npm dependencies,
        `my_lib` is defined with only the npm dependencies that are
        needed:

        ```
        ts_library(
          name = "my_lib",
          ...
          deps = [
              "@npm//:@types/foo",
              "@npm//:@types/bar",
              "@npm//:foo",
              "@npm//:bar",
              ...
          ],
        )
        ```

        In this case, only the listed npm packages and their
        transitive deps are includes as inputs to the `my_lib` target
        which reduces the time required to setup the runfiles for this
        target (see https://github.com/bazelbuild/bazel/issues/5153).
        The default typescript libs are also available via the node_modules
        default in this case.

        The @npm external repository and the fine grained npm package
        targets are setup using the `yarn_install` or `npm_install` rule
        in your WORKSPACE file:

        yarn_install(
          name = "npm",
          package_json = "//:package.json",
          yarn_lock = "//:yarn.lock",
        )
</code></pre>
      </td>
    </tr>
    <tr id="ts_library.supports_workers">
      <td><code>supports_workers</code></td>
      <td>
        <p><code>Boolean; Optional; Default is True</code></p>
        <p>Intended for internal use only.
            Allows you to disable the Bazel Worker strategy for this library.
            Typically used together with the "compiler" setting when using a
            non-worker aware compiler binary.</p>
      </td>
    </tr>
    <tr id="ts_library.tsconfig">
      <td><code>tsconfig</code></td>
      <td>
        <p><code><a href="https://bazel.build/docs/build-ref.html#labels">Label</a>; Optional</code></p>
        <p>A tsconfig.json file containing settings for TypeScript compilation.
            Note that some properties in the tsconfig are governed by Bazel and will be
            overridden, such as <code>target</code> and <code>module</code>.</p>
<pre><code>        The default value is set to `//:tsconfig.json` by a macro. This means you must
        either:

        - Have your `tsconfig.json` file in the workspace root directory
        - Use an alias in the root BUILD.bazel file to point to the location of tsconfig:
          `alias(name="tsconfig.json", actual="//path/to:tsconfig-something.json")`
        - Give an explicit `tsconfig` attribute to all `ts_library` targets
</code></pre>
      </td>
    </tr>
    <tr id="ts_library.tsickle_typed">
      <td><code>tsickle_typed</code></td>
      <td>
        <p><code>Boolean; Optional; Default is True</code></p>
        
      </td>
    </tr>
  </tbody>
</table>


        </div>

        <footer class="mdl-mini-footer">
          <div class="mdl-mini-footer__left-section">
            <div class="mdl-logo">Bazel</div>
            <ul class="mdl-mini-footer__link-list">
              <li><a href="https://bazel.build">Home</a></li>
              <li><a href="https://github.com/bazelbuild">GitHub</a></li>
            </ul>
          </div>
        </footer>
      </main>
    </div>
  </body>
</html>
